@model Property.Models.Account
@{
    Layout = null;
    <title>Register</title>
    <link rel="stylesheet" href="~/css/login.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/0c165f78c1.js" crossorigin="anonymous"></script>
}
<div class="container">
    <h1>Đăng Ký</h1>
    <form asp-action="register" asp-controller="Accounts" method="post">
        <div class="form__row">
            <i class="fa-solid fa-envelope icon icon_email"></i>
            <input asp-for="Username" class="form__input" placeholder="Email" autocomplete="off">
        </div>
        <div class="form__row">
            <i class="fa-solid fa-lock icon icon_pass"></i>
            <input type="password" asp-for="Password" class="form__input" placeholder="Password">
        </div>
        <div class="form__row">
            <i class="fa-solid fa-user icon icon_name"></i>
            <input type="text" asp-for="Name" class="form__input" placeholder="Name">
        </div>
        <div class="form__row">
            <i class="fa-solid fa-phone icon icon_phone"></i>
            <input type="text" asp-for="Phone" class="form__input" placeholder="Phone">
        </div>
        <div class="form__row form__but">
            <button type="submit" class="btn">Đăng ký</button>
        </div>
        @if (ViewBag.ErrorMessage != null)
        {
            <div class="form__row">
            <p class="error-message">@ViewBag.ErrorMessage</p>
            </div>
        }
        <div class="form__row form__register">
            <h5>Bạn đã có tài khoản? <a href="/login.html">Đăng Nhập Ngay</a></h5>
        </div>
        <input type="text" hidden value="@ViewBag.SuccessMessage" id="messId"/>
    </form>
</div>
<script>
    var successMessage = document.getElementById("messId").value;
    if (successMessage !== "") {
        if (confirm(successMessage)) {
            window.location.href = "/login.html";
        } else {
            var inputUsername = document.getElementById("Username");
            var inputPassword = document.getElementById("Password");
            var inputName = document.getElementById("Name");
            var inputPhone = document.getElementById("Phone");

            inputUsername.value = "";
            inputPassword.value = "";
            inputName.value = "";
            inputPhone.value = "";
        }
    }
</script>